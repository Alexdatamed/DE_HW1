# DE_HW1
# ğŸ“Š Advertising Analytics ETL Pipeline

## ğŸ§¾ ĞĞ¿Ğ¸Ñ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ

Ğ¦ĞµĞ¹ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚ Ñ€ĞµĞ°Ğ»Ñ–Ğ·ÑƒÑ” Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ñ†Ğ¸ĞºĞ» **ETL-Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑƒ** Ğ´Ğ»Ñ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— Ğ´ĞµĞ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ°Ñ‚Ğ°ÑĞµÑ‚Ñƒ. ĞœĞµÑ‚Ğ¾Ñ Ñ” ÑƒÑÑƒĞ½ĞµĞ½Ğ½Ñ Ğ½Ğ°Ğ´Ğ¼Ñ–Ñ€Ğ½Ğ¾ÑÑ‚Ñ–, Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ĞµĞ½Ğ½Ñ Ñ†Ñ–Ğ»Ñ–ÑĞ½Ğ¾ÑÑ‚Ñ– Ğ´Ğ°Ğ½Ğ¸Ñ… Ñ– ĞµÑ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ², Ñ‚Ğ°ĞºĞ¸Ñ… ÑĞº Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ½Ğ¾Ğº CTR Ğ°Ğ±Ğ¾ Ğ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ²Ğ¸Ñ‚Ñ€Ğ°Ñ‚ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¾Ğ´Ğ°Ğ²Ñ†Ñ–Ğ².

---

## ğŸ—‚ï¸ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ

```bash
.
â”œâ”€â”€ data/                        # ĞŸĞ¾Ñ‡Ğ°Ñ‚ĞºĞ¾Ğ²Ñ– CSV-Ñ„Ğ°Ğ¹Ğ»Ğ¸ (events, campaigns, users - Ğ²Ñ–Ğ´ÑÑ‚ÑƒÑ‚Ğ½Ñ– Ñƒ Ğ´Ğ°Ğ½Ğ¾Ğ¼Ñƒ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ— Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñƒ)
â”œâ”€â”€ init/                         
â”‚   â”œâ”€â”€ init_db.sql              # SQL-ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¸ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†
â”œâ”€â”€ scripts/                         
â”‚   â””â”€â”€ env_etl.sh               # ğŸ”„ Shell-ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ mysql Ğ±Ğ°Ğ·Ğ¸, Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ±Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞº Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ´Ğ°Ñ‚Ğ°ÑĞµÑ‚Ñƒ Ğ´Ğ»Ñ etl,Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ ETL - Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑƒ
â”‚   â””â”€â”€ check_tables.sh          # ğŸ” Shell-ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸, Ñ‡Ğ¸ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ñ– Ğ²ÑÑ– Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ– (Ñ‡ĞµÑ€ĞµĞ· SELECT COUNT Ñ‚Ğ° Ğ²Ğ¸Ğ²Ñ–Ğ´ 10 ÑĞµĞ¼Ğ¿Ğ»Ñ–Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ–)
â”œâ”€â”€ screenshots/                 # Ğ¡ĞºÑ€Ñ–Ğ½Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ–Ğ² Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ²
â”‚   â””â”€â”€ table_previews.png
â”œâ”€â”€ docker-compose.yml       # Ğ´Ğ¾ĞºĞµÑ€
â”œâ”€â”€ .gitignore
â”œâ”€â”€ etl_transform.py
â””â”€â”€ README.md                    
```

---

## âš™ï¸ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

### âœ… 1. ĞĞ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ° Ñ€ĞµĞ»ÑÑ†Ñ–Ğ¹Ğ½Ğ° ÑÑ…ĞµĞ¼Ğ° (3NF)

ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ” 6 Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ÑŒ:

| Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ           | ĞŸÑ€Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ |
|------------------|-------------|
| `advertisers`     | Ğ ĞµĞºĞ»Ğ°Ğ¼Ğ¾Ğ´Ğ°Ğ²Ñ†Ñ– (ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ñ–) |
| `campaigns`       | ĞšĞ°Ğ¼Ğ¿Ğ°Ğ½Ñ–Ñ—, Ğ¿Ğ¾Ğ²â€™ÑĞ·Ğ°Ğ½Ñ– Ğ· Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¾Ğ´Ğ°Ğ²Ñ†ÑĞ¼Ğ¸ |
| `users`           | Ğ†Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ² |
| `user_interests`  | Ğ‘Ğ°Ğ³Ğ°Ñ‚Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ½Ğ° Ğ·Ğ²â€™ÑĞ·ĞºĞ° user â†’ interest |
| `ad_events`       | ĞŸĞ¾Ğ´Ñ–Ñ— Ğ¿Ğ¾ĞºĞ°Ğ·Ñƒ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¸ |
| `clicks`          | ĞŸĞ¾Ğ´Ñ–Ñ— ĞºĞ»Ñ–ĞºÑƒ, Ğ¿Ğ¾Ğ²â€™ÑĞ·Ğ°Ğ½Ñ– Ñ‡ĞµÑ€ĞµĞ· `event_id` |

â¡ **Ğ§Ğ¾Ğ¼Ñƒ Ñ‚Ğ°Ğº?**
- Ğ—Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ĞµĞ½Ğ¾ **Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ĞµĞ½Ğ½Ñ ÑÑƒÑ‚Ğ½Ğ¾ÑÑ‚ĞµĞ¹**
- `clicks.event_id` â†’ `ad_events.event_id` Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ÑƒÑ” ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¸Ğ¹ Ğ·Ğ²â€™ÑĞ·Ğ¾Ğº Ğ¿Ğ¾ĞºĞ°Ğ·Ñƒ Ñ– ĞºĞ»Ñ–ĞºÑƒ
- Ğ¡Ğ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¾ Ğ¾Ğ±Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ½Ñ CTR: `SELECT COUNT(*) FROM clicks WHERE campaign_id = ?` Ğ¿Ñ€Ğ¾Ñ‚Ğ¸ `ad_events`

DDL ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¸: `init/init_db.sql`

---

### âœ… 2. ETL-ÑĞºÑ€Ğ¸Ğ¿Ñ‚

```bash
python etl_trasnform.py
```

ğŸ”¹ Ğ Ğ¾Ğ±Ğ¸Ñ‚ÑŒ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğµ:
- Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒÑ” 1000 Ğ¿Ğ¾Ğ´Ñ–Ğ¹ + ÑƒÑÑ– ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ñ–Ñ— Ñ‚Ğ° ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ²
- ĞÑ‡Ğ¸Ñ‰ÑƒÑ” Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ– Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ
- ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ” Ğ²Ğ°Ğ»Ñ–Ğ´Ğ½Ñ–ÑÑ‚ÑŒ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¾Ğ´Ğ°Ğ²Ñ†Ñ–Ğ² (`Advertiser_`)
- Ğ¤Ğ¾Ñ€Ğ¼ÑƒÑ” `adv_map` Ñ‚Ğ° `camp_map` Ğ´Ğ»Ñ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ½Ğ¾ÑÑ‚Ñ–
- Ğ’ÑÑ‚Ğ°Ğ²Ğ»ÑÑ” Ğ´Ğ°Ğ½Ñ– Ğ² Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ñ– Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ– (Ğ²ĞºĞ»ÑÑ‡Ğ°ÑÑ‡Ğ¸ `user_interests` Ñ‚Ğ° `clicks`)

---

### âœ… 3. Docker-ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ

â¬‡ï¸ Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ”:

ğŸ¬ mysql: ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ· MySQL 8.0

-ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€ÑÑ” Ğ‘Ğ” advertising
-ĞšĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ analytics_user Ğ· Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¼ analytics_password
-Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ” Ğ²ÑÑ– ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¸ Ğ· ./init/ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ñ– (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ÑŒ)

ğŸ etl_env: Ğ›ĞµĞ³ĞºĞ¸Ğ¹ Python-ÑĞµÑ€Ğ²Ñ–Ñ (Ğ½Ğ° Ğ±Ğ°Ğ·Ñ– python:3.11-slim)
- Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ÑÑ” Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ– Ğ· requirements.txt
- Ğ’Ğ¸ĞºĞ¾Ğ½ÑƒÑ” ÑĞºÑ€Ğ¸Ğ¿Ñ‚ etl_transform.py Ğ¿Ñ–ÑĞ»Ñ Ñ‚Ğ¾Ğ³Ğ¾, ÑĞº MySQL Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹
- Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ” ĞºĞµÑˆ pip Ğ´Ğ»Ñ ÑˆĞ²Ğ¸Ğ´ÑˆĞ¾Ñ— Ñ–Ğ½ÑÑ‚Ğ°Ğ»ÑÑ†Ñ–Ñ—
- Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ÑÑ” Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñ– Ğ¿Ğ°ĞºĞµÑ‚Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸ (gcc, libmysqlclient-dev) Ğ´Ğ»Ñ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ğ´Ğ¾ MySQL

---

### âœ… 4. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ–Ğ²

Ğ£ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñ–Ñ— `screenshots/` Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ñ– Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸:

```sql
SELECT * FROM advertisers LIMIT 10;
SELECT * FROM campaigns LIMIT 10;
...
```

---

## ğŸš€ Ğ¨Ğ²Ğ¸Ğ´ĞºĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº

1. ğŸ” **Ğ¡ĞºĞ»Ğ¾Ğ½ÑƒĞ¹Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ğ¹:**

```bash
git clone https://github.com/yourusername/DE_HW1_ETL.git
cd DE_HW1_ETL
```

2. ğŸ³ **Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ETL-Ğ¿Ñ€Ğ¾Ñ†ĞµÑ Ñ–Ğ· Docker:**

```bash
bash scripts/run_etl.sh
```

Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾:
- Ğ—ÑƒĞ¿Ğ¸Ğ½ÑÑ” ÑÑ‚Ğ°Ñ€Ñ– Docker-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸
- Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ” ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ `mysql` Ñ– Ğ¾Ñ‡Ñ–ĞºÑƒÑ” Ğ¹Ğ¾Ğ³Ğ¾ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ñ–
- Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°Ñ” ETL-Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½ Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ– `etl_env` Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ Ğ¿Ñ€Ğ¾Ñ„Ñ–Ğ»Ñ Docker Compose

3. ğŸ§ª **ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ñ‚Ğ° Ğ²Ğ¼Ñ–ÑÑ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ÑŒ:**

```bash
bash scripts/check_tables.sh
```

Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒÑ”:
- `SELECT * FROM ... LIMIT 10` Ğ´Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ñ— Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ–
- Ğ’Ğ¸Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒ ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ² Ñƒ Ğ²ÑÑ–Ñ… Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ÑÑ… (`advertisers`, `campaigns`, `users`, `user_interests`, `ad_events`, `clicks`)

## ğŸ“· Ğ¡ĞºÑ€Ñ–Ğ½Ğ¸

![Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ–](screenshots/table_previews.png)

---

## ğŸ”— ĞŸĞ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ

> ğŸ“ [GitHub Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ğ¹ (Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ğ¸Ğ¹)](https://github.com/Alexdatamed/DE_HW1)

---

## ğŸ“¬ ĞĞ²Ñ‚Ğ¾Ñ€

**ĞĞ»ĞµĞºÑÑ–Ğ¹ Ğ¡Ğ°Ğ¼Ğ¾Ğ¹Ğ»ĞµĞ½ĞºĞ¾**  
Clinical AI Engineer | SET University | Mark Wealth  
ğŸ“§
